<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Quizzes - Chinese Language Tutor">
  <title>Quizzes - Chinese Language Tutor</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <nav class="navbar">
    <div class="container">
      <div class="nav-wrapper">
        <div class="logo">LangTutor</div>
        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
          ‚ò∞
        </button>
        <ul class="nav-links" id="mobileMenu">
          <li><a href="index.html#home" class="nav-link" onclick="closeMobileMenu()">Home</a></li>
          <li><a href="quiz-select.html" class="nav-link">Quizzes</a></li>
          <li><a href="test-select.html" class="nav-link">Tests</a></li>
          <li><a href="flashcards.html" class="nav-link">Flashcards</a></li>
          <li><a href="progress.html" class="nav-link">Progress</a></li>
          <li><a href="resources.html" class="nav-link">Resources</a></li>
          <li><a href="writing.html" class="nav-link">Writing Practice</a></li>
        </ul>
        <button id="darkModeToggle" class="dark-mode-toggle" onclick="DarkMode.toggle()" aria-label="Toggle dark mode">üåô</button>
      </div>
    </div>
  </nav>

  <section class="practice" id="practice">
    <div class="container">
      <h2>Quizzes</h2>
      <p class="section-subtitle" id="subtitle">Loading...</p>

      <div id="quizContainer"></div>

      <p><a href="quiz-select.html" class="btn btn-primary">Back to Selection</a></p>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2026 Language Tutor. All rights reserved.</p>
    </div>
  </footer>

  <script src="quizzes.js"></script>
  <script>
    // Load quiz data based on URL parameters
    document.addEventListener('DOMContentLoaded', function() {
      const params = new URLSearchParams(window.location.search);
      const language = params.get('language');
      const level = params.get('level');
      
      if (language && level) {
        loadQuiz(language, level);
      } else {
        document.getElementById('quizContainer').innerHTML = '<p>No quiz selected. <a href="quiz-select.html">Go back to selection</a></p>';
      }
    });

    const quizData = {
      newbie: {
        mandarin: [
          {
            id: 1,
            title: 'Mandarin Basics',
            question: 'What is the pinyin for "‰Ω†"?',
            options: [{ text: 'n«ê', correct: true }, { text: 'w«í', correct: false }, { text: 'tƒÅ', correct: false }]
          },
          {
            id: 2,
            title: 'Numbers',
            question: 'Which character means "one"?',
            options: [{ text: '‰∏Ä', correct: true }, { text: '‰∫å', correct: false }, { text: '‰∏â', correct: false }]
          }
        ]
      },
      level1: {
        mandarin: [
          {
            id: 1,
            title: 'Mandarin Characters',
            question: 'Which pinyin corresponds to the character "‰∏Ä"?',
            options: [{ text: 'yi', correct: true }, { text: 'er', correct: false }, { text: 'san', correct: false }]
          },
          {
            id: 2,
            title: 'Common Phrases',
            question: 'What does "Ë∞¢Ë∞¢" mean?',
            options: [{ text: 'Thank you', correct: true }, { text: 'Hello', correct: false }, { text: 'Goodbye', correct: false }]
          }
        ]
      },
      level2: {
        mandarin: [
          {
            id: 1,
            title: 'Intermediate Vocabulary',
            question: 'What does "Â≠¶Ê†°" mean?',
            options: [{ text: 'School', correct: true }, { text: 'Hospital', correct: false }, { text: 'Library', correct: false }]
          },
          {
            id: 2,
            title: 'Sentence Structure',
            question: 'Which word order is correct in Mandarin?',
            options: [{ text: 'Subject + Verb + Object', correct: true }, { text: 'Verb + Subject + Object', correct: false }, { text: 'Object + Verb + Subject', correct: false }]
          }
        ]
      },
      level3: {
        mandarin: [
          {
            id: 1,
            title: 'Advanced Pinyin',
            question: 'Which pinyin (with tones) is correct for "‰Ω†Â•Ω"?',
            options: [{ text: 'n«êh«éo', correct: true }, { text: 'n√¨h√†o', correct: false }, { text: 'n√≠hƒÅo', correct: false }]
          },
          {
            id: 2,
            title: 'Complex Characters',
            question: 'What is the correct stroke order principle?',
            options: [{ text: 'Top to bottom, left to right', correct: true }, { text: 'Right to left, bottom to top', correct: false }]
          }
        ]
      },
      level4: {
        mandarin: []
      },
      level5: {
        mandarin: []
      },
      level6: {
        mandarin: []
      },
      sjkc: {
        mandarin: [
          {
            id: 1,
            title: 'SJKC - Advanced Characters',
            question: 'What is the meaning of "ÂçéÊñá"?',
            options: [{ text: 'Chinese language', correct: true }, { text: 'English language', correct: false }, { text: 'Mathematics', correct: false }]
          },
          {
            id: 2,
            title: 'SJKC - Idioms',
            question: 'What does the idiom "‰∏ÄÁü≥‰∫åÈ∏ü" mean?',
            options: [{ text: 'Kill two birds with one stone', correct: true }, { text: 'Birds of a feather', correct: false }, { text: 'Early bird', correct: false }]
          }
        ]
      }
    };

    function loadQuiz(language, level) {
      const quizzes = quizData[level]?.[language] || [];
      const levelNames = {
        'newbie': 'Newbie',
        'level1': 'Level 1',
        'level2': 'Level 2',
        'level3': 'Level 3',
        'level4': 'Level 4',
        'level5': 'Level 5',
        'level6': 'Level 6',
        'sjkc': 'SJKC'
      };
      const levelName = levelNames[level] || level;
      document.getElementById('subtitle').textContent = `${language.charAt(0).toUpperCase() + language.slice(1)} - ${levelName}`;
      
      if (quizzes.length === 0) {
        document.getElementById('quizContainer').innerHTML = '<p>No quizzes available for this selection yet. More content coming soon! <a href="quiz-select.html">Try another selection</a></p>';
        return;
      }

      let html = '<div class="quiz-grid">';
      quizzes.forEach(quiz => {
        html += `
          <div class="card">
            <h3>${quiz.title} (${levelName})</h3>
            <p class="question">${quiz.question}</p>
            <div class="options">
              ${quiz.options.map((opt, idx) => `
                <button class="option-btn" onclick="checkAnswer('${level}',${quiz.id},'${opt.correct ? 'right' : 'wrong'}')">${opt.text}</button>
              `).join('')}
            </div>
            <p id="result-${level}-${quiz.id}" class="feedback"></p>
          </div>
        `;
      });
      html += '</div>';
      document.getElementById('quizContainer').innerHTML = html;
    }

    function toggleMobileMenu() {
      const menu = document.getElementById('mobileMenu');
      menu.classList.toggle('active');
    }

    function closeMobileMenu() {
      const menu = document.getElementById('mobileMenu');
      menu.classList.remove('active');
    }
  </script>
  <script src="app.js"></script>

</body>
</html>