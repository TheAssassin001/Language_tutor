<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Practice exercises - Language Tutor">
  <title>Exercises - Language Tutor</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <nav class="navbar">
    <div class="container">
      <div class="nav-wrapper">
        <div class="logo">LangTutor</div>
        <ul class="nav-links">
          <li><a href="index.html#home" class="nav-link">Home</a></li>
          <li><a href="index.html#languages" class="nav-link">Languages</a></li>
          <li><a href="index.html#practice" class="nav-link">Practice</a></li>
          <li><a href="index.html#contact" class="nav-link">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <section class="practice" id="practice">
    <div class="container">
      <h2>Exercises</h2>
      <p class="section-subtitle" id="subtitle">Loading...</p>

      <div id="exerciseContainer"></div>

      <p><a href="exercise-select.html" class="btn btn-primary">Back to Selection</a></p>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2026 Language Tutor. All rights reserved.</p>
    </div>
  </footer>

  <script src="quizzes.js"></script>
  <script>
    // Load exercise data based on URL parameters
    document.addEventListener('DOMContentLoaded', function() {
      const params = new URLSearchParams(window.location.search);
      const language = params.get('language');
      const level = params.get('level');
      
      if (language && level) {
        loadExercise(language, level);
      } else {
        document.getElementById('exerciseContainer').innerHTML = '<p>No exercise selected. <a href="exercise-select.html">Go back to selection</a></p>';
      }
    });

    const exerciseData = {
      beginner: {
        english: [
          {
            id: 1,
            title: 'Complete the Sentence',
            question: 'She ___ to the store yesterday.',
            hint: 'Past tense of "go"',
            correctAnswer: 'went'
          }
        ],
        mandarin: [
          {
            id: 2,
            title: 'Mandarin Numbers',
            question: 'What is "One" in Mandarin?',
            hint: 'Pinyin: y-',
            correctAnswer: 'yi'
          }
        ],
        hindi: [],
        cantonese: []
      },
      intermediate: {
        hindi: [
          {
            id: 1,
            title: 'Vocabulary',
            question: 'What does "Namaste" mean?',
            hint: 'A traditional greeting',
            correctAnswer: 'hello'
          }
        ],
        mandarin: [
          {
            id: 2,
            title: 'Chinese Character',
            question: 'What is the Chinese character for "water"?',
            hint: 'You may answer with the character or pinyin',
            correctAnswer: ['水', 'shui']
          }
        ],
        english: [],
        cantonese: []
      },
      expert: {
        mandarin: [
          {
            id: 1,
            title: 'Pinyin Practice',
            question: 'Write the pinyin for "你好"',
            hint: 'Accepts diacritics, numbers, or plain pinyin (e.g. nǐhǎo, ni3hao3, nihao)',
            correctAnswer: ['nihao', 'nǐhǎo', 'ni3hao3']
          }
        ],
        english: [],
        hindi: [],
        cantonese: []
      }
    };

    function loadExercise(language, level) {
      const exercises = exerciseData[level]?.[language] || [];
      document.getElementById('subtitle').textContent = `${language.charAt(0).toUpperCase() + language.slice(1)} - ${level.charAt(0).toUpperCase() + level.slice(1)}`;
      
      if (exercises.length === 0) {
        document.getElementById('exerciseContainer').innerHTML = '<p>No exercises available for this selection. <a href="exercise-select.html">Try another selection</a></p>';
        return;
      }

      let html = '<div class="exercise-grid">';
      exercises.forEach(exercise => {
        html += `
          <div class="card">
            <h3>${exercise.title} (${level.charAt(0).toUpperCase() + level.slice(1)})</h3>
            <p class="question">${exercise.question}</p>
            <p class="hint">${exercise.hint}</p>
            <input type="text" class="exercise-input" id="ex-${level}-${exercise.id}" placeholder="Your answer">
            <button class="btn btn-secondary" onclick="checkExercise('${level}',${exercise.id}, ${JSON.stringify(exercise.correctAnswer)})">Check</button>
            <p id="ex-result-${level}-${exercise.id}" class="feedback"></p>
          </div>
        `;
      });
      html += '</div>';
      document.getElementById('exerciseContainer').innerHTML = html;
    }
  </script>
