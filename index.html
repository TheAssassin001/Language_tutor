<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
  <meta name="description" content="Practice Mandarin Chinese online with interactive tools. Quizzes, flashcards, and tests to reinforce your learning.">
  <meta name="theme-color" content="#4a9d6f">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="‰∏≠ÊñáÁªÉ‰π†">
  <meta name="format-detection" content="telephone=no">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon-192.png">
  <title>Chinese Practice Platform - Learn ‚Ä¢ Practice ‚Ä¢ Improve</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="container">
      <div class="nav-wrapper">
        <div class="logo">‰∏≠ÊñáÁªÉ‰π†</div>
        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">
          ‚ò∞
        </button>
        <ul class="nav-links" id="mobileMenu">
          <li><a href="#home" class="nav-link" onclick="closeMobileMenu()">Home</a></li>
          <li><a href="quiz-select.html" class="nav-link">Quizzes</a></li>
          <li><a href="test-select.html" class="nav-link">Tests</a></li>
          <li><a href="flashcards.html" class="nav-link">Flashcards</a></li>
          <li><a href="progress.html" class="nav-link">Progress</a></li>
          <li><a href="resources.html" class="nav-link">Resources</a></li>
          <li><a href="writing.html" class="nav-link">Writing Practice</a></li>
          <li id="tutorDashboardLink" style="display: none;"><a href="tutor-dashboard.html" class="nav-link">Dashboard</a></li>
          <li id="authLinks">
            <a href="login.html" class="nav-link">Login</a>
          </li>
        </ul>
        <button id="darkModeToggle" class="dark-mode-toggle" onclick="DarkMode.toggle()" aria-label="Toggle dark mode">üåô</button>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero" id="home">
    <div class="container">
      <div class="hero-content">
        <h1>Practice Chinese with Confidence</h1>
        <p class="hero-subtitle">Your dedicated practice companion for Mandarin Chinese. Reinforce what you learn, build confidence, and track your progress through interactive practice tools.</p>
        <p class="hero-tagline">Learn ‚Ä¢ Practice ‚Ä¢ Improve</p>
        <div id="heroButtons" style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
          <!-- Buttons will be updated based on login status -->
          <a href="login.html" class="btn btn-primary">Login</a>
          <a href="signup.html" class="btn btn-secondary">Sign Up</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Practice & Improve Section -->
  <section class="practice-section" id="practice">
    <div class="container">
      <h2>Practice & Improve</h2>
      <p class="section-subtitle">Reinforce what you learn in class or with your tutor</p>
      
      <div class="practice-grid">
        <div class="practice-card">
          <div class="practice-icon">üìù</div>
          <h3>Interactive Quizzes</h3>
          <p>Test your knowledge of vocabulary, grammar, and characters with instant feedback</p>
        </div>
        <div class="practice-card">
          <div class="practice-icon">üé¥</div>
          <h3>Digital Flashcards</h3>
          <p>Review and memorize characters, tones, and meanings at your own pace</p>
        </div>
        <div class="practice-card">
          <div class="practice-icon">‚úçÔ∏è</div>
          <h3>Writing Practice</h3>
          <p>Practice stroke order and character writing with guided exercises</p>
        </div>
        <div class="practice-card">
          <div class="practice-icon">üìä</div>
          <h3>Track Progress</h3>
          <p>Monitor your improvement and see how far you've come</p>
        </div>
      </div>
      
      <div class="practice-note">
        <p><strong>Practice makes progress.</strong> This platform is designed to support your Chinese learning journey, whether you're studying in a classroom or working with a tutor. Use these tools to reinforce lessons, build confidence, and improve your skills.</p>
      </div>
    </div>
  </section>

  <!-- Languages Section -->
  <section class="languages" id="languages">
    <div class="container">
      <h2>Mandarin Chinese</h2>
      <p class="section-subtitle">Practice resources for Mandarin learners</p>
      
      <div class="languages-grid" style="max-width: 500px; margin: 0 auto;">
        <div class="language-card">
          <div class="language-emoji">üá®üá≥</div>
          <h3>Mandarin Chinese</h3>
          <p>Practice pinyin, characters, tones, and vocabulary at all levels</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-note">
        <p>This platform is designed as a practice companion for Chinese language students.</p>
      </div>
      <p class="footer-copyright">&copy; 2026 Chinese Practice Platform. All rights reserved.</p>
    </div>
  </footer>

  <script src="quizzes.js"></script>
  <script src="auth-client.js"></script>
  <script src="progress-api.js"></script>
  <script>
    function toggleMobileMenu() {
      document.getElementById('mobileMenu').classList.toggle('active');
    }
    
    function closeMobileMenu() {
      document.getElementById('mobileMenu').classList.remove('active');
    }
    
    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
      const menu = document.getElementById('mobileMenu');
      const toggle = document.querySelector('.mobile-menu-toggle');
      if (menu && !menu.contains(event.target) && !toggle.contains(event.target)) {
        closeMobileMenu();
      }
    });

    // Update navigation based on auth status
    function updateNavigation() {
      const authLinks = document.getElementById('authLinks');
      const tutorLink = document.getElementById('tutorDashboardLink');
      
      if (AuthAPI.isAuthenticated()) {
        const user = AuthAPI.getCurrentUser();
        authLinks.innerHTML = `
          <span class="nav-link" style="color: var(--accent); font-weight: 600;">${user.name}</span> | 
          <a href="#" onclick="AuthAPI.logout(); return false;" class="nav-link">Logout</a>
        `;
        
        // Show tutor dashboard link if user is tutor
        if (user.role === 'tutor' && tutorLink) {
          tutorLink.style.display = 'block';
        }
      } else {
        authLinks.innerHTML = '<a href="login.html" class="nav-link">Login</a> | <a href="signup.html" class="nav-link">Sign Up</a>';
        if (tutorLink) tutorLink.style.display = 'none';
      }
    }

    // Update nav on page load
    document.addEventListener('DOMContentLoaded', updateNavigation);

    // Update hero buttons based on auth status
    document.addEventListener('DOMContentLoaded', function() {
      const heroButtons = document.getElementById('heroButtons');
      if (AuthAPI.isAuthenticated()) {
        const user = AuthAPI.getCurrentUser();
        if (user.role === 'tutor') {
          heroButtons.innerHTML = `
            <a href="tutor-dashboard.html" class="btn btn-primary">Go to Dashboard</a>
            <a href="quiz-select.html" class="btn btn-secondary">Browse Content</a>
          `;
        } else {
          heroButtons.innerHTML = `
            <a href="quiz-select.html" class="btn btn-primary">Start Quizzes</a>
            <a href="test-select.html" class="btn btn-primary">Take Tests</a>
            <a href="progress.html" class="btn btn-secondary">View Progress</a>
          `;
        }
      }
    });
  </script>
  <script src="app.js"></script>
</body>
</html>
